{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"About the project This is the documentation for Open Recommendation Butler. You find the full project on GitHub . \ud83c\udf10 Demo : Check out the power What is Open Recommendation Butler used for? Open Recommendation Butler enables you to increase the page impressions and stickiness of your customers. Customers value good search. Good search is hard work. Open Recommendation Butler is an out of the box solution to provide excellent search. Table of contents This documentation includes the following: Getting started How to add documents to the database? How to search for documents with the API? How to deploy Open Recommendation Butler on a server? Tutorials Sponsors This project is gracefully funded by: Media Tech Lab by Media Lab Bayern","title":"Home"},{"location":"#about-the-project","text":"This is the documentation for Open Recommendation Butler. You find the full project on GitHub . \ud83c\udf10 Demo : Check out the power","title":"About the project"},{"location":"#what-is-open-recommendation-butler-used-for","text":"Open Recommendation Butler enables you to increase the page impressions and stickiness of your customers. Customers value good search. Good search is hard work. Open Recommendation Butler is an out of the box solution to provide excellent search.","title":"What is Open Recommendation Butler used for?"},{"location":"#table-of-contents","text":"This documentation includes the following: Getting started How to add documents to the database? How to search for documents with the API? How to deploy Open Recommendation Butler on a server? Tutorials","title":"Table of contents"},{"location":"#sponsors","text":"This project is gracefully funded by: Media Tech Lab by Media Lab Bayern","title":"Sponsors"},{"location":"add_documents/","text":"How to add documents to the database? After setting up the ORB docker, your database does not include any documents. Documents can be articles, podcasts, messages, newsletters etc. In this tutorial you will learn how to add documents to the database. The API endpoint ORB provides an API endpoint to add documents. You can add articles by doing a POST request: POST http://localhost:8000/article/ You can send the following data to the endpoint (as a JSON): { \"title\": \"That's a title\", \"teaser\": \"That's a teaser\", \"fullext\": \"That's a fulltext\", \"url\": \"https://example.com/\", \"content_type\": \"article\", \"created\": \"2012-04-23T18:25:43.511Z\" } None of the fields is mandatory. If successful, the API sends the status 201 Created . Examples In this section you will find examples how to add send requests to the API. a) Adding a document with Postman You can add a document with Postman . Postman is a program to test APIs. Create a POST request, include the body as a JSON and send the document to the API as seen in the picture. b) Adding a document with Python You can automate adding documents with the Python Request Library . Install the library. pip install requests Run the following code to add a document: import requests document = { \"title\": \"That's a title\", \"teaser\": \"That's a teaser\", \"fullext\": \"That's a fulltext\", \"url\": \"https://example.com/\", \"content_type\": \"article\", \"created\": \"2012-04-23T18:25:43.511Z\" } r = requests.post('http://localhost:8000/article/', json=document) print(r.status_code)","title":"How to add documents to the database?"},{"location":"add_documents/#how-to-add-documents-to-the-database","text":"After setting up the ORB docker, your database does not include any documents. Documents can be articles, podcasts, messages, newsletters etc. In this tutorial you will learn how to add documents to the database.","title":"How to add documents to the database?"},{"location":"add_documents/#the-api-endpoint","text":"ORB provides an API endpoint to add documents. You can add articles by doing a POST request: POST http://localhost:8000/article/ You can send the following data to the endpoint (as a JSON): { \"title\": \"That's a title\", \"teaser\": \"That's a teaser\", \"fullext\": \"That's a fulltext\", \"url\": \"https://example.com/\", \"content_type\": \"article\", \"created\": \"2012-04-23T18:25:43.511Z\" } None of the fields is mandatory. If successful, the API sends the status 201 Created .","title":"The API endpoint"},{"location":"add_documents/#examples","text":"In this section you will find examples how to add send requests to the API.","title":"Examples"},{"location":"add_documents/#a-adding-a-document-with-postman","text":"You can add a document with Postman . Postman is a program to test APIs. Create a POST request, include the body as a JSON and send the document to the API as seen in the picture.","title":"a) Adding a document with Postman"},{"location":"add_documents/#b-adding-a-document-with-python","text":"You can automate adding documents with the Python Request Library . Install the library. pip install requests Run the following code to add a document: import requests document = { \"title\": \"That's a title\", \"teaser\": \"That's a teaser\", \"fullext\": \"That's a fulltext\", \"url\": \"https://example.com/\", \"content_type\": \"article\", \"created\": \"2012-04-23T18:25:43.511Z\" } r = requests.post('http://localhost:8000/article/', json=document) print(r.status_code)","title":"b) Adding a document with Python"},{"location":"deploying/","text":"How to deploy Open Recommendation Butler on a server? Open Recommendation Butler comes prepared for deployment. For deployment, we use NGINX and Gunicorn. Both come ready configured with this repository. We will user docker-compose.prod.yml instead of docker-compose.yml to set up the Docker. Requirements You need a deployment server with Docker and Git installed and root rights. Optionally, you need a registered domain. Alternativelly, you can access ORB via the IP adress of your server. Setting up the docker Clone the repository git clone https://github.com/open-recommendation-butler/ORB.git Change directory to project directory cd ORB Create a file with the name \".env\". Insert the following content into the \".env\" file. Replace YourStrongPasswordForElasticSearch , YourStrongPasswordForKibana and YourStrongSecretKeyForDjango with your own passwords. Replace example.org with your domain or IP adress. Content of \".env\" file: # Password for the 'elastic' user (at least 6 characters) ELASTIC_PASSWORD=YourStrongPasswordForElasticSearch # Password for the 'kibana_system' user (at least 6 characters) KIBANA_PASSWORD=YourStrongPasswordForKibana # Secret key for Django (at least 6 characters) SECRET_KEY=YourStrongSecretKeyForDjango # Turn off Django's debug mode. Having DEBUG=True in deployment, is a security risk. DEBUG=False # The domain for ORB. Alternatively, this can be an IP adress. DOMAIN=example.com Compose the docker docker compose -f docker-compose.prod.yml build Compose the docker docker compose -f docker-compose.prod.yml up -d Test if ORB is running by visiting your domain or IP adress. Securing ORB with SSL (optional) You can secure the access to ORB with SSL. To do so, we will create a certificate with Let's encrypt and certbot . To do so, run the following command on the server. Remember to replace YourMailAdress and YourDomain . It's recommended to use a working mail adress. You will receive a notification if your certificate expires. docker exec orb-nginx-1 certbot --nginx -n --agree-tos -m YourMailAdress -d YourDomain Hint: This certificate will expire after 3 months. To set an auto renewal, set a cronjob inside the orb-nginx-1 container: 0 0 1 * * certbot renew --quiet","title":"How to deploy Open Recommendation Butler on a server?"},{"location":"deploying/#how-to-deploy-open-recommendation-butler-on-a-server","text":"Open Recommendation Butler comes prepared for deployment. For deployment, we use NGINX and Gunicorn. Both come ready configured with this repository. We will user docker-compose.prod.yml instead of docker-compose.yml to set up the Docker.","title":"How to deploy Open Recommendation Butler on a server?"},{"location":"deploying/#requirements","text":"You need a deployment server with Docker and Git installed and root rights. Optionally, you need a registered domain. Alternativelly, you can access ORB via the IP adress of your server.","title":"Requirements"},{"location":"deploying/#setting-up-the-docker","text":"Clone the repository git clone https://github.com/open-recommendation-butler/ORB.git Change directory to project directory cd ORB Create a file with the name \".env\". Insert the following content into the \".env\" file. Replace YourStrongPasswordForElasticSearch , YourStrongPasswordForKibana and YourStrongSecretKeyForDjango with your own passwords. Replace example.org with your domain or IP adress. Content of \".env\" file: # Password for the 'elastic' user (at least 6 characters) ELASTIC_PASSWORD=YourStrongPasswordForElasticSearch # Password for the 'kibana_system' user (at least 6 characters) KIBANA_PASSWORD=YourStrongPasswordForKibana # Secret key for Django (at least 6 characters) SECRET_KEY=YourStrongSecretKeyForDjango # Turn off Django's debug mode. Having DEBUG=True in deployment, is a security risk. DEBUG=False # The domain for ORB. Alternatively, this can be an IP adress. DOMAIN=example.com Compose the docker docker compose -f docker-compose.prod.yml build Compose the docker docker compose -f docker-compose.prod.yml up -d Test if ORB is running by visiting your domain or IP adress.","title":"Setting up the docker"},{"location":"deploying/#securing-orb-with-ssl-optional","text":"You can secure the access to ORB with SSL. To do so, we will create a certificate with Let's encrypt and certbot . To do so, run the following command on the server. Remember to replace YourMailAdress and YourDomain . It's recommended to use a working mail adress. You will receive a notification if your certificate expires. docker exec orb-nginx-1 certbot --nginx -n --agree-tos -m YourMailAdress -d YourDomain Hint: This certificate will expire after 3 months. To set an auto renewal, set a cronjob inside the orb-nginx-1 container: 0 0 1 * * certbot renew --quiet","title":"Securing ORB with SSL (optional)"},{"location":"getting_started/","text":"Getting started Installation You can start ORB on your machine with docker by following these steps: Clone the repository git clone https://github.com/open-recommendation-butler/ORB.git Change directory to project directory cd ORB Create a file with the name \".env\". Insert the following content into the \".env\" file. Replace YourStrongPasswordForElasticSearch , YourStrongPasswordForKibana and YourStrongSecretKeyForDjango with your own passwords. Content of \".env\" file: # Password for the 'elastic' user (at least 6 characters) ELASTIC_PASSWORD=YourStrongPasswordForElasticSearch # Password for the 'kibana_system' user (at least 6 characters) KIBANA_PASSWORD=YourStrongPasswordForKibana # Secret key for Django (at least 6 characters) SECRET_KEY=YourStrongSecretKeyForDjango Compose the docker docker compose build Compose the docker docker compose up -d Test if ORB is running by visiting http://localhost:8000 .","title":"Getting started"},{"location":"getting_started/#getting-started","text":"","title":"Getting started"},{"location":"getting_started/#installation","text":"You can start ORB on your machine with docker by following these steps: Clone the repository git clone https://github.com/open-recommendation-butler/ORB.git Change directory to project directory cd ORB Create a file with the name \".env\". Insert the following content into the \".env\" file. Replace YourStrongPasswordForElasticSearch , YourStrongPasswordForKibana and YourStrongSecretKeyForDjango with your own passwords. Content of \".env\" file: # Password for the 'elastic' user (at least 6 characters) ELASTIC_PASSWORD=YourStrongPasswordForElasticSearch # Password for the 'kibana_system' user (at least 6 characters) KIBANA_PASSWORD=YourStrongPasswordForKibana # Secret key for Django (at least 6 characters) SECRET_KEY=YourStrongSecretKeyForDjango Compose the docker docker compose build Compose the docker docker compose up -d Test if ORB is running by visiting http://localhost:8000 .","title":"Installation"},{"location":"search/","text":"How to search for documents with the API? You can use the web demo to search for documents ( http://localhost:8000 ) or you can use the API. In the following, you will learn how to search with the API. You can retrieve search results by sending a GET request: GET http://localhost:8000/search/ You can use the following parameters: Parameter What it is q Search term to query (string) as_topics If results should be clustered in topics (boolean) return_json If response should be JSON instead of HTML (boolean) An example search would look like: GET http://localhost:8000/search/?as_topics=True&q=der&return_json=True","title":"How to search for documents with the API?"},{"location":"search/#how-to-search-for-documents-with-the-api","text":"You can use the web demo to search for documents ( http://localhost:8000 ) or you can use the API. In the following, you will learn how to search with the API. You can retrieve search results by sending a GET request: GET http://localhost:8000/search/ You can use the following parameters: Parameter What it is q Search term to query (string) as_topics If results should be clustered in topics (boolean) return_json If response should be JSON instead of HTML (boolean) An example search would look like: GET http://localhost:8000/search/?as_topics=True&q=der&return_json=True","title":"How to search for documents with the API?"},{"location":"tutorials/","text":"Tutorials How to add the News Category Dataset to the database? This tutorial shows you how to add a full dataset to the database. We use a small Python script and the News Category Dataset. About the dataset The News Category Dataset contains around 210k news headlines and teasers from 2012 to 2022 from HuffPost. It is a good use case to test ORB. Each record in the dataset consists of the following attributes: - category: category in which the article was published. - headline: the headline of the news article. - authors: list of authors who contributed to the article. - link: link to the original news article. - short_description: Abstract of the news article. - date: publication date of the article. We will add those attributes to the database. Requirements ORB is up and running. See: How to get started A kaggle account. It's free: Register at Kaggle An API key from Kaggle. More information: Kaggle's documentation for authentication The opendatasets and requests libraries. You can install them with the following command: pip install requests opendatasets Run the code To download the dataset from Kaggle and to insert it into the dataset, you can use this script: adding-news-category-dataset.py You can run the script from the main directory with the following command: python tutorials/adding-news-category-dataset/adding-news-category-dataset.py ORB will convert the articles to embeddings and index them. Depending on your machine, this might take up some hours.","title":"Tutorials"},{"location":"tutorials/#tutorials","text":"","title":"Tutorials"},{"location":"tutorials/#how-to-add-the-news-category-dataset-to-the-database","text":"This tutorial shows you how to add a full dataset to the database. We use a small Python script and the News Category Dataset.","title":"How to add the News Category Dataset to the database?"},{"location":"tutorials/#about-the-dataset","text":"The News Category Dataset contains around 210k news headlines and teasers from 2012 to 2022 from HuffPost. It is a good use case to test ORB. Each record in the dataset consists of the following attributes: - category: category in which the article was published. - headline: the headline of the news article. - authors: list of authors who contributed to the article. - link: link to the original news article. - short_description: Abstract of the news article. - date: publication date of the article. We will add those attributes to the database.","title":"About the dataset"},{"location":"tutorials/#requirements","text":"ORB is up and running. See: How to get started A kaggle account. It's free: Register at Kaggle An API key from Kaggle. More information: Kaggle's documentation for authentication The opendatasets and requests libraries. You can install them with the following command: pip install requests opendatasets","title":"Requirements"},{"location":"tutorials/#run-the-code","text":"To download the dataset from Kaggle and to insert it into the dataset, you can use this script: adding-news-category-dataset.py You can run the script from the main directory with the following command: python tutorials/adding-news-category-dataset/adding-news-category-dataset.py ORB will convert the articles to embeddings and index them. Depending on your machine, this might take up some hours.","title":"Run the code"}]}